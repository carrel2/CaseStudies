{%- block form_widget -%}
  {% if attr.class is defined and attr.class is empty %}
    {% set attr = attr|merge({"class": type|default('input')}) %}
  {% elseif attr.class is not empty %}
    {% set attr = attr|merge(attr.class|merge([type|default('input')])) %}
  {% endif %}

  {% if compound %}
    {{- block('form_widget_compound') -}}
  {% else %}
    {{- block('form_widget_simple') -}}
  {% endif %}
{%- endblock form_widget -%}
