{% extends 'layout.html.twig' %}

{% block userNav %}
  <a class="navbar-item is-hidden-touch" href="{{ path('default') }}">Home</a>

  {% if app.user is not null and app.user.hasResults %}
    <a class="navbar-item" href="{{ path('results') }}">My results</a>
  {% endif %}

{#  <div class="navbar-item has-dropdown is-hoverable">
    <a class="navbar-link" href="#">Account</a>

    <div class="navbar-dropdown">
      {% if app.user is not null and app.user.hasResults %}
        <a class="navbar-item" href="{{ path('results') }}">My results</a>
      {% endif %}

      <a class="navbar-item" href="{{ path('logout') }}">Logout</a>
    </div>
  </div> #}
{% endblock %}

{% block adminNav %}
  {% if is_granted('ROLE_ADMIN') %}
    <div class="navbar-item has-dropdown is-hoverable">
      <a class="navbar-link" href="#">Admin</a>

      <div class="navbar-dropdown">
        <a class="navbar-item" href="{{ path('manageUsers') }}">Manage users</a>
        <a class="navbar-item" href="{{ path('manageAnimals') }}">Manage animals</a>
        <a class="navbar-item" href="{{ path('editCase') }}">Edit cases</a>
        <a class="navbar-item" href="{{ path('manageTests') }}">Manage tests</a>
        <a class="navbar-item" href="{{ path('manageMedications') }}">Manage medications</a>
        <a class="navbar-item" href="{{ path('import') }}">Import</a>
      </div>
    </div>
  {% endif %}
{% endblock %}

{% block flashes %}
  {% for flash in app.session.flashBag.get('success') %}
    <div class="notification is-success">{{ flash }}</div>
  {% endfor %}
  {% for flash in app.session.flashBag.get('notice') %}
    <div class="notification is-warning">{{ flash }}</div>
  {% endfor %}
  {% for flash in app.session.flashBag.get('error') %}
    <div class="notification is-danger">{{ flash }}</div>
  {% endfor %}
{% endblock %}
